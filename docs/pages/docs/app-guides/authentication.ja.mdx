import { Callout } from 'nextra/components';

# 認証

> プラットフォーム内のデータは、デフォルトではすべて非公開です。APIにアクセストークンを渡すことで、非公開のデータにアクセスすることができます。

## はじめに

Collections はデータベース内のデータを管理するために、REST の API を提供しています。API は、標準的な HTTP ステータスコードに依存し、入出力には JSON を使用します。

## アクセストークン

Collections の認証に使用できるトークンは2種類あります。

**一時トークン (JWT)** は、ログインエンドポイントによって返されます。これらのトークンは有効期限が比較的短く、最も安全に使用できます。
トークンは `refresh_token` とともに返されます。この `refresh_token` は、リフレッシュエンドポイントによって、新しいアクセストークンを取得するために使用できます。

**APIキー** は、プラットフォーム・ユーザーごとに設定でき、有効期限はありません。安全性は低いですが、サーバ間通信には非常に便利です。APIキーは `collections_users.api_key` にプレーンテキストで保存されます。

アクセストークンを取得したら、`access_token` クエリパラメータか、リクエストの Authorization ヘッダに記述して API に渡します。

### クエリパラメータ

```
?access_token=<token>
```

### Authorization ヘッダ

```
Authorization: Bearer <token>
```

<Callout type="info">
  <p>関連する API</p>
  <ul>
    <li>
      <a href="/reference/api#operation/login" style={{ textDecoration: 'underline' }}>
        ログイン
      </a>
    </li>
    <li>
      <a href="/reference/api#operation/refresh" style={{ textDecoration: 'underline' }}>
        リフレッシュトークン
      </a>
    </li>
  </ul>
</Callout>
