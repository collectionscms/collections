---
title: 'Next.jsã‚¢ãƒ—ãƒªã¨ã®çµ±åˆ'
---

import { Callout, Steps } from 'nextra/components';
import { Image } from '../../../components/Image';

# Next.jsã‚¢ãƒ—ãƒªã¨ã®çµ±åˆ

> Next.js ã® App Router ã§ Collections ã§ä½œæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—ã™ã‚‹ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

Next.js Blog Starter Kit ã¨ Collections ã‚’çµ±åˆã—ãŸãƒ–ãƒ­ã‚°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ [GitHubã«å…¬é–‹](https://github.com/collectionscms/collections/tree/main/templates/nextjs-blog-starter) ã—ã¦ã„ã¾ã™ã€‚ã“ã¡ã‚‰ã‚‚å®Ÿè£…æ™‚ã®å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

<Steps>
### Collections ã§è¨˜äº‹ã‚’ä½œæˆã—å…¬é–‹ã™ã‚‹

ä»Šå›ã¯ã€ã“ã®ã‚ˆã†ãªè¨˜äº‹ã‚’ä½œæˆã—ã¾ã™ã€‚

<Image imageUrl="https://cdn.collections.dev/docs/embed-wp/content-jp.png" />

### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ä½œæˆã—ãŸè¨˜äº‹ãŒå–å¾—ã§ãã‚‹ã“ã¨ã‚’ç¢ºèª

å…¬é–‹ã—ãŸã‚‰ API ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§è¨˜äº‹ãŒå–å¾—ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚

<Image imageUrl="https://cdn.collections.dev/docs/embed-wp/preview-api.png" />

ã“ã®ã‚ˆã†ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã‚Œã°OKã€‚å…¬é–‹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯æ­£ã—ãæ›´æ–°ã•ã‚Œã¦ã„ã¾ã™ã€‚

```bash
{
  "posts": [
    {
      "id": "94a79a37-0d3f-42a9-9edc-3246e925db64",
      "contents": [
        {
          "id": "5245b61c-01a4-49b4-857e-72b99c20902e",
          "slug": "f10d3c61c2",
          "title": "ã‚µã‚¤ãƒˆã‚’ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã—ã¾ã—ãŸğŸ‰",
          "subtitle": null,
          "body": "ã‚ˆã‹ã£ãŸã‚‰è¨ªã­ã¦ã¿ã¦ãã ã•ã„ï¼\n\nhttps://collections.dev",
          "bodyHtml": "<p>ã‚ˆã‹ã£ãŸã‚‰è¨ªã­ã¦ã¿ã¦ãã ã•ã„ï¼</p><p><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link\" href=\"https://collections.dev/ja\">https://collections.dev</a></p>",
          ...
        }
      ]
    }
  ]
}

```

### è¨˜äº‹ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹

```js filename="api.ts"
const apiOrigin = process.env.COLLECTIONS_API_ORIGIN;
const apiKey = process.env.COLLECTIONS_API_KEY;

export async function getAllPosts(revalidate: number): Promise<Post[]> {
  const res = await fetch(`${apiOrigin}/api/v1/posts`, {
    next: { revalidate },
    headers: {
      Authorization: `Bearer ${apiKey}`,
    },
  });
  const data = await res.json();
  return data?.posts || [];
}
```

### ãƒšãƒ¼ã‚¸ã«è¨˜äº‹ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹

```tsx filename="pages/index.tsx"
export default async function Index({ params: { lang } }: { params: { lang: Locale } }) {
  const posts = await getAllPosts(revalidate);

  return (
    <main>
      {posts.map((post) => {
        const languageContent = post.contents.find((content) => content.language === lang);
        return (
          <PostPreview
            key={languageContent.slug}
            title={languageContent.title}
            coverUrl={languageContent.coverUrl}
            publishedAt={languageContent.publishedAt}
            author={languageContent.author}
            slug={languageContent.slug}
            subtitle={languageContent.subtitle}
            lang={lang}
          />
        );
      })}
    </main>
  );
}
```

### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ç¢ºèªã™ã‚‹

è¨˜äº‹ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã— Collections ã§ä½œæˆã—ãŸè¨˜äº‹ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸã§ã™ï¼

<Image imageUrl="https://cdn.collections.dev/docs/next-js/preview-content-ja.png" />

</Steps>
