# 設定オプション

## 設定ファイル

環境変数は、Superfast プロジェクト内のすべての設定に使用されます。

### .env

Superfast は、環境変数として.env ファイル設定を読み込もうとします。これは次のような構造になっています。

```
DB_CLIENT="sqlite3"
DB_FILENAME="./data.db"
MIGRATE_EXTENSIONS=".js"
```

## Database

| 変数名              | 説明                            |   初期値          |
| :----------------- | :----------------------------- | :--------------- |
| DB_CLIENT | Databaseクライアント(sqlite3) | sqlite3 |
| DB_FILENAME | Databaseファイルへのパス | ./data.db |
| MIGRATE_EXTENSIONS | migrationsとして扱うファイル拡張子 | .js (変更不可)  |

## ハッシュ

| 変数名              | 説明                            |   初期値          |
| :----------------- | :----------------------------- | :--------------- |
| HASH_MEMORY_COST | ハッシュを生成する際に使用するメモリ量をKiB単位で指定します。 | `4096` (4 MiB) |
| HASH_HASH_LENGTH | ハッシュ関数出力の長さをバイト数で指定します。 | `32` |
| HASH_TIME_COST | ハッシュ関数が使用するパス数(反復回数)。計算に必要な時間を犠牲にして、ハッシュ強度を高めることができます。 | `3` |
| HASH_PARALLELISM | ハッシュを計算するスレッドの数。各スレッドは `HASH_MEMORY_COST` サイズのメモリプールを持つ。 | `1` (single thread) |
| HASH_TYPE | ハッシュ関数の種類 (0: argon2d, 1: argon2i, または 2: argon2id). | `2` (argon2id) |
| HASH_ASSOCIATED_DATA | 追加オプションの非機密値。この値は、ダイジェストのパラメータ部分に Base64 でエンコードされた形で含まれます。 | -- |

## セッション

| 変数名              | 説明                            |   初期値          |
| :----------------- | :----------------------------- | :--------------- |
| ACCESS_TOKEN_TTL | アクセストークンの有効期間。 | `8h` |
| REFRESH_TOKEN_TTL(WIP) | リフレッシュトークンの有効期間 | `7d` |

## シークレット

| 変数名              | 説明                            |   初期値          |
| :----------------- | :----------------------------- | :--------------- |
| SECRET | JWTトークン生成時の秘密鍵 | ランダム |
